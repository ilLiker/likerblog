<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-多线程与高并发1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/20/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%911/" class="article-date">
  <time datetime="2020-09-20T03:36:44.988Z" itemprop="datePublished">2020-09-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/20/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%911/">多线程与高并发01</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="synchronized-Object"><a href="#synchronized-Object" class="headerlink" title="synchronized(Object)"></a>synchronized(Object)</h3><pre><code>object不能用String常量，Integer，Long。因为他们在常量池中，线程之间会共享。加锁可能会加到意料之外的代码中。</code></pre>
<h3 id="线程同步"><a href="#线程同步" class="headerlink" title="线程同步"></a>线程同步</h3><pre><code>-synchronized
    ·锁的是对象，不是代码。
    ·synchronized == synchronized(XX.class) , 即锁的是当前类的类对象
    ·锁定方法，非锁定方法 同时执行会造成脏读
    ·锁升级
        - 偏向锁 -&gt; 自旋锁 -&gt; 重量级锁
        - 自旋锁切换到重量级锁的时候需要从用户态切换到内核态</code></pre>
<h3 id="锁升级过程"><a href="#锁升级过程" class="headerlink" title="锁升级过程"></a>锁升级过程</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">无锁 --&gt; 偏向锁 --&gt; 自旋锁 --&gt; 重量级锁</span><br><span class="line">	</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">无锁：未加锁态</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">偏向锁(轻量级锁)：加锁的时候加上一个标记，当线程重新去执行时，判断这个标记是否是自己的标记，如果是，直接执行；效率高；</span><br><span class="line">	1.默认情况 偏向锁有个时延，默认是4秒</span><br><span class="line">	2.why? ...</span><br><span class="line">	</span><br><span class="line">	3.上偏向锁，指的就是，把markword的线程ID改为自己的线程ID的过程；</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">自旋锁：指的是阻塞态的线程通过自旋的方式去获取锁(while(true))，这种方式的好处是，只需要在用户态即可完成，无需切换到内核态。在线程运行时间短，争用的线程少的情况下效率比较高；</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">重量级锁：等待线程挂起，进入等待队列，等待操作系统的调度，然后再映射回用户空间</span><br><span class="line">	优点：不占用cpu；</span><br><span class="line">	缺点：需要从用户态切换到内核态；</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">升级过程：</span><br><span class="line">	1. Object o &#x3D; new Object()</span><br><span class="line">	2. 默认synchronized(o)</span><br><span class="line">		1. 00-&gt;轻量级锁</span><br><span class="line">		2. 默认情况 偏向锁有个时延，默认是4秒 </span><br><span class="line">		3. why? 因为JVM虚拟机自己有一些默认启动的线程，里面有好多sync代码，这些sync代码启动时就知道肯定会有竞争，如果使用偏向锁，就会造成偏向锁不断的进行锁撤销和锁升级的操作，效率较低。</span><br><span class="line">	3. 如果有线程上锁</span><br><span class="line">		1. 上偏向锁，就是把markword的线程ID改为自己的线程ID的过程</span><br><span class="line">	4. 如果有线程竞争</span><br><span class="line">		1. 撤销偏向锁，升级轻量级锁</span><br><span class="line">		2. 线程在自己的线程栈生成LockRecord，用CAS操作将markword设置为指向自己这个线程的LR指针，设置成功者的到锁</span><br><span class="line">		3.  </span><br><span class="line">	5. 如果竞争加剧</span><br><span class="line">		1. 有线程超过10次自旋，-XX:PreBlockSpin可以设置，或者自选线程数超过CPU核数的一半，在jdk1.6之后，加入自适应自旋 Adapative Self Spinning，JVM自己控制 </span><br><span class="line">		2. CPU从3级-0级系统调用，线程挂起，进入等待队列，等待操作系统的调度，然后在映射回用户空间；</span><br><span class="line">	6. </span><br><span class="line">		 </span><br></pre></td></tr></table></figure>



      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/20/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%911/" data-id="ckfbaz8ni00099dcy3u639poq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5%EF%BC%8C%E5%90%AF%E5%8A%A8%E6%96%B9%E5%BC%8F%EF%BC%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/" rel="tag">线程的概念，启动方式，常用方法</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-CDH安装" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/20/CDH%E5%AE%89%E8%A3%85/" class="article-date">
  <time datetime="2020-09-20T03:35:13.705Z" itemprop="datePublished">2020-09-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/20/CDH%E5%AE%89%E8%A3%85/">CDS安装</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>配置parcel文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mkdir spark_parcel &amp;&amp; cd spark_parcel</span><br><span class="line">wget http:&#x2F;&#x2F;archive.cloudera.com&#x2F;spark2&#x2F;parcels&#x2F;2.4.0.cloudera2&#x2F;SPARK2-2.4.0.cloudera2-1.cdh5.13.3.p0.1041012-el7.parcel</span><br><span class="line">wget http:&#x2F;&#x2F;archive.cloudera.com&#x2F;spark2&#x2F;parcels&#x2F;2.4.0.cloudera2&#x2F;SPARK2-2.4.0.cloudera2-1.cdh5.13.3.p0.1041012-el7.parcel.sha1</span><br><span class="line">mv SPARK2-2.4.0.cloudera2-1.cdh5.13.3.p0.1041012-el7.parcel.sha1 SPARK2-2.4.0.cloudera2-1.cdh5.13.3.p0.1041012-el7.parcel.sha</span><br><span class="line">wget http:&#x2F;&#x2F;archive.cloudera.com&#x2F;spark2&#x2F;parcels&#x2F;2.4.0.cloudera2&#x2F;manifest.json</span><br><span class="line">cd ..&#x2F;</span><br><span class="line">mv spark_parcel &#x2F;var&#x2F;www&#x2F;html&#x2F;</span><br></pre></td></tr></table></figure>

<p>CDH WebUI</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">	</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/20/CDH%E5%AE%89%E8%A3%85/" data-id="ckfbaz8n600009dcyhxcg7vqp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CDH%EF%BC%8Cspark/" rel="tag">CDH，spark</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Kafka ISR" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/20/Kafka%20ISR/" class="article-date">
  <time datetime="2020-09-20T03:35:02.458Z" itemprop="datePublished">2020-09-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/20/Kafka%20ISR/">Kakfa的ISR</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Kafka-Replica"><a href="#Kafka-Replica" class="headerlink" title="Kafka Replica"></a>Kafka Replica</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.每个topic的Replica个数必须小于replication-factor的个数，因为每个broker只能有一个partition的一个副本</span><br><span class="line">2.当某个topic的replication-factor的个数大于1时，则每个partition都会有n个副本，包含leader和follower</span><br><span class="line">3.所有partition的Replica会均匀分布到broker上</span><br></pre></td></tr></table></figure>

<h3 id="副本如何扩散出去消息？"><a href="#副本如何扩散出去消息？" class="headerlink" title="副本如何扩散出去消息？"></a>副本如何扩散出去消息？</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">每个partition有一个leader和多个follower，当producer生产数据时，只会往leader中写数据。</span><br><span class="line">follower从leader中pull(拉去)数据,过程和consumer消费数据类似。</span><br><span class="line">读数据只会从leader中读，当leader挂掉时，follower顶上去作为leader提供服务，所以consumer并不会从follower中读取数据，follower只是作为副本和预备leader。</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/20/Kafka%20ISR/" data-id="ckfbaz8nb00019dcy6zc38w85" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kafka-ISR-%E5%89%AF%E6%9C%AC%E5%90%8C%E6%AD%A5%E6%9C%BA%E5%88%B6/" rel="tag">kafka,ISR,副本同步机制</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-语录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/20/%E8%AF%AD%E5%BD%95/" class="article-date">
  <time datetime="2020-09-20T03:34:46.325Z" itemprop="datePublished">2020-09-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/20/%E8%AF%AD%E5%BD%95/">语录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>2020-09-18 周五 天气还行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">决定要坚持做一件事情时，信誓旦旦。</span><br><span class="line">坚持的过程中，怀疑自己，动摇自己，直到改变初心。</span><br></pre></td></tr></table></figure>

<p>2020-09-19 周六 天气还行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">其实现在并不糟糕，如今的现状不是没有预料到过，甚至可以说是在预料之中的。不要心急，沉下心，努力，努力努力。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">st&#x3D;&gt;start: 开始</span><br><span class="line">e&#x3D;&gt;end: 结束</span><br><span class="line">op&#x3D;&gt;operation: 操作步骤</span><br><span class="line">cond&#x3D;&gt;condition: 是 或者 否?</span><br><span class="line"></span><br><span class="line">st-&gt;op-&gt;cond</span><br><span class="line">cond(yes)-&gt;e</span><br><span class="line">cond(no)-&gt;op</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/20/%E8%AF%AD%E5%BD%95/" data-id="ckfbaz8nj000b9dcy72ey66rv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-flink" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/20/flink/" class="article-date">
  <time datetime="2020-09-20T03:34:16.990Z" itemprop="datePublished">2020-09-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/20/flink/">flink</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>开发文档地址：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;ci.apache.org&#x2F;projects&#x2F;flink&#x2F;flink-docs-release-1.9&#x2F;dev&#x2F;types_serialization.html</span><br></pre></td></tr></table></figure>

<h3 id="Stateful-Computations-over-Data-Streams"><a href="#Stateful-Computations-over-Data-Streams" class="headerlink" title="Stateful Computations over Data Streams"></a>Stateful Computations over Data Streams</h3><pre><code>离线处理/批处理 有没有状态？ 一般不需要状态


Unbound stream  无界的   就是流处理
bound stream    有界的        批处理


flink比较好的：</code></pre>
<p>Depending on the type of data sources, i.e. bounded or unbounded sources, you would either write a batch program or a streaming program where the DataSet API is used for batch and the DataStream API is used for streaming. </p>
<h3 id="DataSet-and-DataStream"><a href="#DataSet-and-DataStream" class="headerlink" title="DataSet and DataStream"></a>DataSet and DataStream</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Flink has the special classes DataSet and DataStream to represent data in a program. You can think of them as immutable collections of data that can contain duplicates. In the case of DataSet the data is finite while for a DataStream the number of elements can be unbounded.</span><br><span class="line"></span><br><span class="line">These collections differ from regular Java collections in some key ways. First, they are immutable, meaning that once they are created you cannot add or remove elements. You can also not simply inspect the elements inside.</span><br><span class="line"></span><br><span class="line">A collection is initially created by adding a source in a Flink program and new collections are derived from these by transforming them using API methods such as map, filter and so on.</span><br></pre></td></tr></table></figure>

<h3 id="Anatomy-of-a-Flink-Program"><a href="#Anatomy-of-a-Flink-Program" class="headerlink" title="Anatomy of a Flink Program"></a>Anatomy of a Flink Program</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Flink programs look like regular programs that transform collections of data. Each program consists of the same basic parts:</span><br><span class="line"></span><br><span class="line">Obtain an execution environment,</span><br><span class="line">Load&#x2F;create the initial data,</span><br><span class="line">Specify transformations on this data,</span><br><span class="line">Specify where to put the results of your computations,</span><br><span class="line">Trigger the program execution</span><br></pre></td></tr></table></figure>

<h3 id="flink的connect算子"><a href="#flink的connect算子" class="headerlink" title="flink的connect算子"></a>flink的connect算子</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">connect算子可以合并两个DataStream对象，两个DataStream的类型不必一致</span><br><span class="line">union	算子同样可以合并两个DataStream对象，两个DataStream的类型需要一致</span><br></pre></td></tr></table></figure>

<h3 id="flink的自定义分区器"><a href="#flink的自定义分区器" class="headerlink" title="flink的自定义分区器"></a>flink的自定义分区器</h3><p>  步骤：</p>
<ol>
<li><p>继承Partitioner类，定义输入类型为范型 </p>
</li>
<li><p>实现partition方法</p>
</li>
<li><p>返回分区数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  class LikerPartitioner extends Partitioner[String]&#123;</span><br><span class="line">  <span class="function">override def <span class="title">partition</span><span class="params">(key: String, numPartitions: Int)</span>: Int </span>= &#123;</span><br><span class="line">    <span class="keyword">if</span>(key == <span class="string">&quot;liker&quot;</span>)&#123;</span><br><span class="line">      <span class="number">0</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(key == <span class="string">&quot;erlei&quot;</span>)&#123;</span><br><span class="line">      <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(key == <span class="string">&quot;hehe&quot;</span>)&#123;</span><br><span class="line">      <span class="number">2</span></span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">	  <span class="number">3</span></span><br><span class="line">	&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="自定义DataSource"><a href="#自定义DataSource" class="headerlink" title="自定义DataSource"></a>自定义DataSource</h3><p> DataSource有如下几种</p>
<ol>
<li>SourceFunction</li>
<li>RichSourceFunction</li>
<li>ParallelSourceFunction</li>
<li>RichParallelSourceFunction<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">其中SourceFunction和ParallelSourceFunction的区别是</span><br><span class="line">	1. SourceFunction 不能设置并行度</span><br><span class="line">	2. ParallelSourceFunction可以设置并行度</span><br><span class="line">	3. 而RichXXX主要是有两个open、close方法，这两个方法可以作为初始化和关闭资源使用。</span><br><span class="line">  	</span><br></pre></td></tr></table></figure>
<h3 id="自定义MySql的DataSource"><a href="#自定义MySql的DataSource" class="headerlink" title="自定义MySql的DataSource"></a>自定义MySql的DataSource</h3>步骤：<ol>
<li>继承RichSourceFunction类</li>
<li>open方法中建立连接</li>
<li>run方法中执行查询语句。并将数据collect到sourceContetxt中</li>
<li>close释放连接<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">  class MySQLSource(sql:String) extends RichSourceFunction[Liker]&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> connection:Connection = _</span><br><span class="line">  <span class="keyword">var</span> pstmt:PreparedStatement = _</span><br><span class="line"></span><br><span class="line">  <span class="function">override def <span class="title">open</span><span class="params">(parameters: Configuration)</span>: Unit </span>= &#123;</span><br><span class="line">    <span class="keyword">super</span>.open(parameters)</span><br><span class="line">    connection = JdbcUtil.connection</span><br><span class="line">    pstmt = connection.prepareStatement(sql)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function">override def <span class="title">close</span><span class="params">()</span>: Unit </span>= &#123;</span><br><span class="line">    <span class="keyword">super</span>.close()</span><br><span class="line">    JdbcUtil.relase(connection,pstmt,<span class="keyword">null</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function">override def <span class="title">run</span><span class="params">(sourceContext: SourceFunction.SourceContext[Liker])</span>: Unit </span>= &#123;</span><br><span class="line">    <span class="keyword">var</span> rs = pstmt.executeQuery()</span><br><span class="line">    <span class="keyword">while</span> (rs.next())&#123;</span><br><span class="line">      val liker = Liker(rs.getInt(<span class="number">0</span>),rs.getString(<span class="number">1</span>),rs.getString(<span class="number">2</span>))</span><br><span class="line">      sourceContext.collect(liker)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function">override def <span class="title">cancel</span><span class="params">()</span>: Unit </span>= &#123;</span><br><span class="line">	</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ol>
<h3 id="Execution-Parameters"><a href="#Execution-Parameters" class="headerlink" title="Execution Parameters"></a>Execution Parameters</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Execution Parameters</span><br></pre></td></tr></table></figure>


</li>
</ol>
<h3 id="Controlling-Latency"><a href="#Controlling-Latency" class="headerlink" title="Controlling Latency"></a>Controlling Latency</h3>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Controlling Latency</span><br><span class="line">By default, elements are not transferred on the network one-by-one (which would cause unnecessary network traffic) but are buffered. The size of the buffers (which are actually transferred between machines) can be set in the Flink config files. While this method is good for optimizing throughput, it can cause latency issues when the incoming stream is not fast enough. To control throughput and latency, you can use env.setBufferTimeout(timeoutMillis) on the execution environment (or on individual operators) to set a maximum wait time for the buffers to fill up. After this time, the buffers are sent automatically even if they are not full. The default value for this timeout is 100 ms.</span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> env: <span class="type">LocalStreamEnvironment</span> = <span class="type">StreamExecutionEnvironment</span>.createLocalEnvironment</span><br><span class="line">env.setBufferTimeout(timeoutMillis)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">env.generateSequence(1,10).map(myMap).setBufferTimeout(timeoutMillis)</span><br><span class="line">To maximize throughput, set setBufferTimeout(-1) which will remove the timeout and buffers will only be flushed when they are full. To minimize latency, set the timeout to a value close to 0 (for example 5 or 10 ms). A buffer timeout of 0 should be avoided, because it can cause severe performance degradation.</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/20/flink/" data-id="ckfbaz8ng00059dcy2iq74jdu" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%96%B0%E5%BB%BA-%E6%A8%A1%E6%9D%BF-%E5%B0%8F%E4%B9%A6%E5%8C%A0/" rel="tag">新建,模板,小书匠</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-filename" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/20/filename/" class="article-date">
  <time datetime="2020-09-20T03:32:50.607Z" itemprop="datePublished">2020-09-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/20/filename/">小书匠语法使用手册</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[toc!?theme=gray&amp;depth=4]</p>
<h1 id="常用语法"><a href="#常用语法" class="headerlink" title="常用语法"></a>常用语法</h1><hr>
<h2 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">这是 H1 一级标题</span><br><span class="line">======</span><br><span class="line">这是 H2 二级标题</span><br><span class="line">------</span><br><span class="line"><span class="section"># 这是 H1 一级标题</span></span><br><span class="line"><span class="section">## 这是 H2 二级标题</span></span><br><span class="line"><span class="section">### 这是 H3 三级标题</span></span><br><span class="line"><span class="section">#### 这是 H4 四级标题</span></span><br><span class="line"><span class="section">##### 这是 H5 五级标题</span></span><br><span class="line"><span class="section">###### 这是 H6 六级标题</span></span><br></pre></td></tr></table></figure>
<p><strong>快捷键</strong>: [ctrl + h]</p>
<h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><h3 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">*</span> 项目1</span><br><span class="line"><span class="bullet">  *</span> 子项目1.1</span><br><span class="line"><span class="bullet">  *</span> 子项目1.2</span><br><span class="line"><span class="bullet">    *</span> 子项目1.2.1</span><br><span class="line"><span class="bullet">*</span> 项目2</span><br><span class="line"><span class="bullet">*</span> 项目3</span><br><span class="line"></span><br><span class="line"><span class="bullet">+</span> 项目1</span><br><span class="line"><span class="bullet">  +</span> 子项目1.1</span><br><span class="line"><span class="bullet">  +</span> 子项目1.2</span><br><span class="line"><span class="bullet">    +</span> 子项目1.2.1</span><br><span class="line"><span class="bullet">+</span> 项目2</span><br><span class="line"><span class="bullet">+</span> 项目3</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> 项目1</span><br><span class="line"><span class="bullet">  -</span> 子项目1.1</span><br><span class="line"><span class="bullet">  -</span> 子项目1.2</span><br><span class="line"><span class="bullet">    -</span> 子项目1.2.1</span><br><span class="line"><span class="bullet">-</span> 项目2</span><br><span class="line"><span class="bullet">-</span> 项目3</span><br></pre></td></tr></table></figure>
<p><strong>快捷键</strong>: [ctrl + u]</p>
<h3 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1.</span> 项目1</span><br><span class="line"><span class="bullet">2.</span> 项目2</span><br><span class="line"><span class="bullet">3.</span> 项目3</span><br><span class="line"><span class="bullet">    1.</span> 项目3.1</span><br><span class="line"><span class="bullet">    2.</span> 项目3.2</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> 项目1</span><br><span class="line"><span class="bullet">1.</span> 项目2</span><br><span class="line"><span class="bullet">1.</span> 项目3</span><br><span class="line"><span class="bullet">    1.</span> 项目3.1</span><br><span class="line"><span class="bullet">    1.</span> 项目3.2</span><br></pre></td></tr></table></figure>
<h3 id="有序列表起始编号"><a href="#有序列表起始编号" class="headerlink" title="有序列表起始编号"></a>有序列表起始编号</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">58.</span> 项目5</span><br><span class="line"><span class="bullet">2.</span> 项目6</span><br></pre></td></tr></table></figure>
<p><strong>快捷键</strong>: [ctrl + o]</p>
<h2 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">链接名称</span>](<span class="link">链接地址</span>)</span><br><span class="line">[<span class="string">链接名称</span>][<span class="symbol">1</span>]</span><br><span class="line">[1] : 链接地址</span><br></pre></td></tr></table></figure>


<h2 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">名称</span>](<span class="link">链接地址</span>)</span><br><span class="line">![<span class="string">名称</span>][<span class="symbol">1</span>]</span><br><span class="line">[1] : 链接地址</span><br></pre></td></tr></table></figure>


<h2 id="文字格式"><a href="#文字格式" class="headerlink" title="文字格式"></a>文字格式</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">**这是文字粗体格式**</span></span><br><span class="line"></span><br><span class="line"><span class="strong">__这是文字粗体格式__</span></span><br><span class="line"></span><br><span class="line"><span class="emphasis">*这是文字斜体格式*</span></span><br><span class="line"></span><br><span class="line"><span class="emphasis">_这是文字斜体格式_</span></span><br></pre></td></tr></table></figure>


<h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="quote">&gt; 第一行引用文字</span></span><br><span class="line"><span class="quote">&gt; 第二行引用文字</span></span><br></pre></td></tr></table></figure>


<h2 id="水平线"><a href="#水平线" class="headerlink" title="水平线"></a>水平线</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">**<span class="emphasis">*</span></span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="GFM扩展语法"><a href="#GFM扩展语法" class="headerlink" title="GFM扩展语法"></a>GFM扩展语法</h1><hr>
<h2 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">First Header  | Second Header</span><br><span class="line">------------- | -------------</span><br><span class="line">Content Cell  | Content Cell</span><br><span class="line">Content Cell  | Content Cell</span><br></pre></td></tr></table></figure>


<h2 id="增强型表格"><a href="#增强型表格" class="headerlink" title="增强型表格"></a>增强型表格</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">|First Header  | Second Header ||</span><br><span class="line">|First Header  | Second Header | Third Header|</span><br><span class="line">|------------- | -------------|-------------|</span><br><span class="line">表身1Content Cell  | Merge Content Cell||</span><br><span class="line">Content Cell  | Content Cell| Content Cell|</span><br><span class="line"></span><br><span class="line">表身2Content Cell  | Merge Content Cell||</span><br><span class="line">Content Cell  | Content Cell| Content Cell|</span><br><span class="line">[表格标题]</span><br></pre></td></tr></table></figure>


<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><h3 id="行内代码"><a href="#行内代码" class="headerlink" title="行内代码"></a>行内代码</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">`var x = &quot;hello world&quot;`</span></span><br></pre></td></tr></table></figure>
<h3 id="块代码"><a href="#块代码" class="headerlink" title="块代码"></a>块代码</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;good luck&quot;</span>;</span><br></pre></td></tr></table></figure>



<h2 id="自动转换成超链接"><a href="#自动转换成超链接" class="headerlink" title="自动转换成超链接"></a>自动转换成超链接</h2><p>系统将自动根据内容，将地址转换成超链接格式</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://markdown.xiaoshujiang.com</span><br></pre></td></tr></table></figure>


<h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hey&quot;</span>&gt;</span></span>Hello world<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://github.com/github/markup/tree/master#html-sanitization">支持的html标签</a></p>
<h2 id="删除线"><a href="#删除线" class="headerlink" title="删除线"></a>删除线</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~~在文字上添加删除线~~</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="扩展语法"><a href="#扩展语法" class="headerlink" title="扩展语法"></a>扩展语法</h1><hr>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[toc]</span><br></pre></td></tr></table></figure>


<h2 id="扩展的文字格式"><a href="#扩展的文字格式" class="headerlink" title="扩展的文字格式"></a>扩展的文字格式</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">++插入的文字++</span><br><span class="line"></span><br><span class="line">==被记号的文字==</span><br><span class="line"></span><br><span class="line">上角文字: 19^th^</span><br><span class="line"></span><br><span class="line">下角文字: H~2~O</span><br></pre></td></tr></table></figure>


<h2 id="印刷字替换"><a href="#印刷字替换" class="headerlink" title="印刷字替换"></a>印刷字替换</h2><p>系统将自动替换下列文字，转换成排版系统使用的符号</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(c) (C) (r) (R) (tm) (TM) (p) (P) +-</span><br></pre></td></tr></table></figure>


<h2 id="缩写定义"><a href="#缩写定义" class="headerlink" title="缩写定义"></a>缩写定义</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">The HTML specification</span><br><span class="line">is maintained by the W3C.</span><br><span class="line"><span class="emphasis">*[HTML]: Hyper Text Markup Language</span></span><br><span class="line"><span class="emphasis">*</span>[W3C]:  World Wide Web Consortium</span><br></pre></td></tr></table></figure>


<h2 id="待办事项"><a href="#待办事项" class="headerlink" title="待办事项"></a>待办事项</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> [ ] 未完成事项</span><br><span class="line"><span class="bullet">-</span> [ ] 未完成事项</span><br><span class="line"><span class="bullet">-</span> [x] 完成事项</span><br><span class="line"><span class="bullet">-</span> [X] 完成事项</span><br></pre></td></tr></table></figure>


<h2 id="脚注"><a href="#脚注" class="headerlink" title="脚注"></a>脚注</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">脚注[^1x]</span><br><span class="line">[<span class="symbol">^1x</span>]: <span class="link">脚注的用法</span></span><br></pre></td></tr></table></figure>


<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">苹果</span><br><span class="line">: 一种水果</span><br><span class="line">: 一种品牌，计算机，手持设备</span><br><span class="line">桔子</span><br><span class="line">: 一种水果</span><br></pre></td></tr></table></figure>


<h2 id="公式"><a href="#公式" class="headerlink" title="公式"></a>公式</h2><h3 id="行内公式"><a href="#行内公式" class="headerlink" title="行内公式"></a>行内公式</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这是行内公式<span class="code">`!$ \Gamma(z) = \int_0^\infty t^&#123;z-1&#125;e^&#123;-t&#125;dt\,. $`</span></span><br></pre></td></tr></table></figure>
<h3 id="块公式"><a href="#块公式" class="headerlink" title="块公式"></a>块公式</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```mathjax!</span></span><br><span class="line"><span class="code">$$\Gamma(z) = \int_0^\infty t^&#123;z-1&#125;e^&#123;-t&#125;dt\,.$$</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>


<h3 id="流程图-语法"><a href="#流程图-语法" class="headerlink" title="流程图 (语法)"></a>流程图 (<a target="_blank" rel="noopener" href="http://adrai.github.io/flowchart.js/">语法</a>)</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```flow</span></span><br><span class="line"><span class="code">st=&gt;start: 开始</span></span><br><span class="line"><span class="code">e=&gt;end: 结束</span></span><br><span class="line"><span class="code">op=&gt;operation: 操作步骤</span></span><br><span class="line"><span class="code">cond=&gt;condition: 是 或者 否?</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">st-&gt;op-&gt;cond</span></span><br><span class="line"><span class="code">cond(yes)-&gt;e</span></span><br><span class="line"><span class="code">cond(no)-&gt;op</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>


<h3 id="序列图-语法"><a href="#序列图-语法" class="headerlink" title="序列图 (语法)"></a>序列图 (<a target="_blank" rel="noopener" href="https://github.com/bramp/js-sequence-diagrams/blob/master/src/grammar.jison">语法</a>)</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```sequence</span></span><br><span class="line"><span class="code">小明-&gt;小李: 你好 小李, 最近怎么样?</span></span><br><span class="line"><span class="code">Note right of 小李: 小李想了想</span></span><br><span class="line"><span class="code">小李--&gt;小明: 还是老样子</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="小书匠编辑器扩展语法"><a href="#小书匠编辑器扩展语法" class="headerlink" title="小书匠编辑器扩展语法"></a>小书匠编辑器扩展语法</h1><hr>
<h2 id="块代码内文字格式"><a href="#块代码内文字格式" class="headerlink" title="块代码内文字格式"></a>块代码内文字格式</h2><h3 id="块代码高亮标记"><a href="#块代码高亮标记" class="headerlink" title="块代码高亮标记"></a>块代码高亮标记</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```javascript</span></span><br><span class="line"><span class="code">var &gt;&gt;==hello==&lt;&lt; = &#x27;hello world&#x27;</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>
<h3 id="块代码删除线"><a href="#块代码删除线" class="headerlink" title="块代码删除线"></a>块代码删除线</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```javascript</span></span><br><span class="line"><span class="code">var &gt;&gt;~~hello~~&lt;&lt; = &#x27;hello world&#x27;</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>
<h3 id="块代码加粗"><a href="#块代码加粗" class="headerlink" title="块代码加粗"></a>块代码加粗</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```javascript</span></span><br><span class="line"><span class="code">var &gt;&gt;**hello**&lt;&lt; = &#x27;hello world&#x27;</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>
<h3 id="块代码下横线"><a href="#块代码下横线" class="headerlink" title="块代码下横线"></a>块代码下横线</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```javascript</span></span><br><span class="line"><span class="code">var &gt;&gt;++hello++&lt;&lt; = &#x27;hello world&#x27;</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>


<p>小书匠编辑器提供了附件管理功能，用户可通过<code>./</code>对附件的引用，比如图片<code>./jiangzhu.jpg</code>。附件的上传需通过工具栏的插入图片<code>ctrl+g</code>，插入视频<code>ctrl+shift+v</code>，插入音频<code>ctrl+shift+a</code>，插入附件<code>ctrl+shift+t</code>功能键进行操作。</p>
<h2 id="视频"><a href="#视频" class="headerlink" title="视频"></a>视频</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">%[<span class="string">名称</span>](<span class="link">链接地址</span>)</span><br><span class="line">%[<span class="string">名称</span>][<span class="symbol">1</span>]</span><br><span class="line">[1] : 链接地址</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="音频"><a href="#音频" class="headerlink" title="音频"></a>音频</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">~[<span class="string">名称</span>](<span class="link">链接地址</span>)</span><br><span class="line">~[<span class="string">名称</span>][<span class="symbol">1</span>]</span><br><span class="line">[1] : 链接地址</span><br></pre></td></tr></table></figure>

<h2 id="附件"><a href="#附件" class="headerlink" title="附件"></a>附件</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">=[<span class="string">名称</span>](<span class="link">链接地址</span>)</span><br><span class="line">=[<span class="string">名称</span>][<span class="symbol">1</span>]</span><br><span class="line">[1] : 链接地址</span><br></pre></td></tr></table></figure>

<h2 id="元数据"><a href="#元数据" class="headerlink" title="元数据"></a>元数据</h2><p>元数据必须放置在每篇文章的开头才能生效。如果文章里有元数据时，系统将自动以元数据的标题为准，用户通过文章信息的维护界面修改的标题及tags将会被覆盖掉。</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 小书匠语法使用手册</span><br><span class="line">tags: 小书匠,语法,MARKDOWN,帮助</span><br><span class="line">--- </span><br></pre></td></tr></table></figure>


<h2 id="mermaid流程图，序列图，甘特图（mermaid语法）"><a href="#mermaid流程图，序列图，甘特图（mermaid语法）" class="headerlink" title="mermaid流程图，序列图，甘特图（mermaid语法）"></a>mermaid流程图，序列图，甘特图（<a target="_blank" rel="noopener" href="http://knsv.github.io/mermaid/index.html">mermaid语法</a>）</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```mermaid!</span></span><br><span class="line"><span class="code">graph TD;</span></span><br><span class="line"><span class="code">A--&gt;B;</span></span><br><span class="line"><span class="code">A--&gt;C;</span></span><br><span class="line"><span class="code">B--&gt;D;</span></span><br><span class="line"><span class="code">C--&gt;D;</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>


<h2 id="统计图-（统计图语法）"><a href="#统计图-（统计图语法）" class="headerlink" title="统计图 （统计图语法）"></a>统计图 （<a target="_blank" rel="noopener" href="https://github.com/flot/flot/blob/master/API.md">统计图语法</a>）</h2><p>数据格式为：<code>&#123;&quot;data&quot;: [], &quot;options&quot;:&#123;&#125;&#125;</code><br>系统使用<a target="_blank" rel="noopener" href="http://api.jquery.com/jquery.parsejson/">jquery.parseJSON()</a>函数进行解析，因此代码必须符合该函数的要求才能正常解析。</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```plot!</span></span><br><span class="line"><span class="code">&#123;</span></span><br><span class="line"><span class="code">&quot;data&quot;: [ [[0, 0], [1, 1]] ],</span></span><br><span class="line"><span class="code">&quot;options&quot;: &#123; &quot;yaxis&quot;: &#123; &quot;max&quot;: 1 &#125; &#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>


<h2 id="自定义class"><a href="#自定义class" class="headerlink" title="自定义class"></a>自定义class</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">## 自定义class &#123;class名称&#125;</span></span><br></pre></td></tr></table></figure>
<p>通过自定义的class名称后，你就可以在每篇文章的自定义css里添加自己想要的样式了．</p>
<h2 id="cjk强调"><a href="#cjk强调" class="headerlink" title="cjk强调"></a>cjk强调</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="emphasis">_这里将显示带有衬线字体效果的中文做为强调_</span></span><br></pre></td></tr></table></figure>


<h2 id="cjk注音标示"><a href="#cjk注音标示" class="headerlink" title="cjk注音标示"></a>cjk注音标示</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;需要被注音标示的内容&#125;(注音标示)</span><br><span class="line">&#123;需要被注音标示的内容&#125;[编号]</span><br><span class="line">[<span class="symbol">编号</span>]: <span class="link">注音标示</span></span><br></pre></td></tr></table></figure>


<h2 id="居中显示文字"><a href="#居中显示文字" class="headerlink" title="居中显示文字"></a>居中显示文字</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-&gt;居中显示的文字<span class="xml"><span class="tag">&lt;<span class="name">-</span></span></span></span><br></pre></td></tr></table></figure>


<h2 id="对齐显示文字"><a href="#对齐显示文字" class="headerlink" title="对齐显示文字"></a>对齐显示文字</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">:&gt;居左显示的文字<span class="xml"><span class="tag">&lt;<span class="name">-</span></span></span></span><br><span class="line"><span class="xml">-&gt;</span>居右显示的文字<span class="xml"><span class="tag">&lt;<span class="name">:</span></span></span></span><br><span class="line"><span class="xml">:&gt;</span>两端对齐显示的文字<span class="xml"><span class="tag">&lt;<span class="name">:</span></span></span></span><br><span class="line"><span class="xml">-&gt;</span>居中显示的文字<span class="xml"><span class="tag">&lt;<span class="name">-</span></span></span></span><br></pre></td></tr></table></figure>
<p>注： 该语法与center语法冲突，两种语法同时开启时，align语法将覆盖center语法。</p>
<hr>
<hr>
<h1 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h1><hr>
<p>[toc]</p>
<p><img src="./jianzhu.jpg" alt="箭竹"></p>
<p><a target="_blank" rel="noopener" href="http://www.github.com/suziwen/markdownxiaoshujiang">http://www.github.com/suziwen/markdownxiaoshujiang</a><br><a target="_blank" rel="noopener" href="http://www.xiaoshujiang.com/">http://www.xiaoshujiang.com</a></p>
<h1 id="这是-H1-一s级标题"><a href="#这是-H1-一s级标题" class="headerlink" title="这是 H1 一s级标题"></a>这是 H1 一s级标题</h1><h2 id="这是-H2-二级标题"><a href="#这是-H2-二级标题" class="headerlink" title="这是 H2 二级标题"></a>这是 H2 二级标题</h2><h3 id="这是-H3-三级标题"><a href="#这是-H3-三级标题" class="headerlink" title="这是 H3 三级标题"></a>这是 H3 三级标题</h3><h4 id="这是-H4-四级标题"><a href="#这是-H4-四级标题" class="headerlink" title="这是 H4 四级标题"></a>这是 H4 四级标题</h4><h5 id="这是-H5-五级标题"><a href="#这是-H5-五级标题" class="headerlink" title="这是 H5 五级标题"></a>这是 H5 五级标题</h5><h6 id="这是-H6-六级标题"><a href="#这是-H6-六级标题" class="headerlink" title="这是 H6 六级标题"></a>这是 H6 六级标题</h6><h3 id="视频-1"><a href="#视频-1" class="headerlink" title="视频"></a>视频</h3><p>%<a target="_blank" rel="noopener" href="http://markdown.xiaoshujiang.com/media/movie.ogg">电影</a></p>
<h3 id="音频-1"><a href="#音频-1" class="headerlink" title="音频"></a>音频</h3><p>~<a target="_blank" rel="noopener" href="http://markdown.xiaoshujiang.com/media/horse.ogg">音乐</a></p>
<h3 id="附件-1"><a href="#附件-1" class="headerlink" title="附件"></a>附件</h3><p>=<a href="./jianzhu.jpg">附件</a></p>
<h3 id="待办事项-1"><a href="#待办事项-1" class="headerlink" title="待办事项"></a>待办事项</h3><ul>
<li><input disabled="" type="checkbox"> 未完成事项</li>
<li><input checked="" disabled="" type="checkbox"> 完成事项</li>
<li><input checked="" disabled="" type="checkbox"> 完成事项</li>
</ul>
<h3 id="缩写定义-1"><a href="#缩写定义-1" class="headerlink" title="缩写定义"></a>缩写定义</h3><p>The HTML specification<br>is maintained by the W3C.</p>
<p>*[HTML]: Hyper Text Markup Language<br>*[W3C]:  World Wide Web Consortium</p>
<h3 id="印刷字替换-1"><a href="#印刷字替换-1" class="headerlink" title="印刷字替换"></a>印刷字替换</h3><p>(c) (C) (r) (R) (tm) (TM) (p) (P) +-</p>
<h3 id="html代码"><a href="#html代码" class="headerlink" title="html代码"></a>html代码</h3><div>html代码</div>

<h3 id="流程图-语法-1"><a href="#流程图-语法-1" class="headerlink" title="流程图 (语法)"></a>流程图 (<a target="_blank" rel="noopener" href="http://adrai.github.io/flowchart.js/">语法</a>)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">st&#x3D;&gt;start: 开始</span><br><span class="line">e&#x3D;&gt;end: 结束</span><br><span class="line">op&#x3D;&gt;operation: 操作步骤</span><br><span class="line">cond&#x3D;&gt;condition: 是 或者 否?</span><br><span class="line"></span><br><span class="line">st-&gt;op-&gt;cond</span><br><span class="line">cond(yes)-&gt;e</span><br><span class="line">cond(no)-&gt;op</span><br></pre></td></tr></table></figure>

<h3 id="序列图-语法-1"><a href="#序列图-语法-1" class="headerlink" title="序列图 (语法)"></a>序列图 (<a target="_blank" rel="noopener" href="https://github.com/bramp/js-sequence-diagrams/blob/master/src/grammar.jison">语法</a>)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">小明-&gt;小李: 你好 小李, 最近怎么样?</span><br><span class="line">Note right of 小李: 小李想了想</span><br><span class="line">小李--&gt;小明: 还是老样子</span><br></pre></td></tr></table></figure>

<h3 id="脚注-1x"><a href="#脚注-1x" class="headerlink" title="脚注^1x"></a>脚注<a href="%E8%84%9A%E6%B3%A8%E7%9A%84%E7%94%A8%E6%B3%95">^1x</a></h3><h3 id="表格Tables"><a href="#表格Tables" class="headerlink" title="表格Tables"></a>表格Tables</h3><table>
<thead>
<tr>
<th>First Header</th>
<th>Second Header</th>
</tr>
</thead>
<tbody><tr>
<td>Content Cell</td>
<td>Content Cell</td>
</tr>
<tr>
<td>Content Cell</td>
<td>Content Cell</td>
</tr>
</tbody></table>
<h3 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h3><dl><dt>苹果<br>: 一种水果</dt><dd>一种品牌，计算机，手持设备</dd></dl><dl><dt>桔子</dt><dd>一种水果</dd></dl><h3 id="文字格式-1"><a href="#文字格式-1" class="headerlink" title="文字格式"></a>文字格式</h3><p><strong>这是文字粗体格式</strong></p>
<p><strong>这是文字粗体格式</strong></p>
<p><em>这是文字斜体格式</em></p>
<p><em>这是文字斜体格式</em></p>
<p><del>在文字上添加删除线</del></p>
<p>++插入的文字++</p>
<p>==被记号的文字==</p>
<p>上角文字: 19^th^</p>
<p>下角文字: H<del>2</del>O</p>
<h3 id="无序列表-1"><a href="#无序列表-1" class="headerlink" title="无序列表"></a>无序列表</h3><ul>
<li>项目1<ul>
<li>子项目1.1</li>
<li>子项目1.2<ul>
<li>子项目1.2.1</li>
</ul>
</li>
</ul>
</li>
<li>项目2</li>
<li>项目3</li>
</ul>
<h3 id="有序列表-1"><a href="#有序列表-1" class="headerlink" title="有序列表"></a>有序列表</h3><ol>
<li>项目1</li>
<li>项目2</li>
<li>项目3<ol>
<li>项目3.1</li>
<li>项目3.2</li>
</ol>
</li>
</ol>
<h3 id="有序列表起始编号-1"><a href="#有序列表起始编号-1" class="headerlink" title="有序列表起始编号"></a>有序列表起始编号</h3><ol start="58">
<li>项目5</li>
<li>项目6</li>
</ol>
<h3 id="图片-1"><a href="#图片-1" class="headerlink" title="图片"></a>图片</h3><p><img src="http://xiaoshujiang.com/favicon.ico" alt="图片名称"><br>链接</p>
<p><a target="_blank" rel="noopener" href="http://xiaoshujiang.com/">链接名称</a></p>
<h3 id="引用-1"><a href="#引用-1" class="headerlink" title="引用"></a>引用</h3><blockquote>
<p>第一行引用文字<br>第二行引用文字</p>
</blockquote>
<h3 id="水平线-1"><a href="#水平线-1" class="headerlink" title="水平线"></a>水平线</h3><hr>
<h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h3><h4 id="行内代码-1"><a href="#行内代码-1" class="headerlink" title="行内代码"></a>行内代码</h4><p><code>var x = &quot;hello world&quot;</code></p>
<h4 id="块代码-1"><a href="#块代码-1" class="headerlink" title="块代码"></a>块代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> John Smith &lt;john.smith@example.com&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">package</span> l2f.gameserver.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &gt;&gt;++java.util.ArrayList++&lt;&lt;;</span><br><span class="line"></span><br><span class="line">&gt;&gt;~~<span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">L2Character</span> </span>&#123;~~&lt;&lt;</span><br><span class="line">&gt;&gt;++<span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">L2Character</span> <span class="keyword">extends</span> <span class="title">L2Object</span> </span>&#123;++&lt;&lt;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Short ABNORMAL_EFFECT_BLEEDING = <span class="number">0x0_0_0_1</span>; <span class="comment">// not sure</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">moveTo</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> z)</span> </span>&#123;</span><br><span class="line">    _ai = <span class="keyword">null</span>;</span><br><span class="line">    _log.warning(<span class="string">&quot;Should not be called&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="number">1</span> &gt; <span class="number">5</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Task of AI notification */</span></span><br><span class="line">  <span class="meta">@SuppressWarnings( &#123; &quot;nls&quot;, &quot;unqualified-field-access&quot;, &quot;boxing&quot; &#125;)</span></span><br><span class="line">  &gt;&gt;==<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NotifyAITask</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> CtrlEvent _evt;</span><br><span class="line"></span><br><span class="line">    List&lt;String&gt; mList==&lt;&lt; = <span class="keyword">new</span> ArrayList&lt;String&gt;()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        getAI().notifyEvent(_evt, _evt.class, <span class="keyword">null</span>);</span><br><span class="line">      &#125; <span class="keyword">catch</span> (Throwable t) &#123;</span><br><span class="line">        t.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="块代码内文字格式-1"><a href="#块代码内文字格式-1" class="headerlink" title="块代码内文字格式"></a>块代码内文字格式</h2><h3 id="块代码高亮标记-1"><a href="#块代码高亮标记-1" class="headerlink" title="块代码高亮标记"></a>块代码高亮标记</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> &gt;&gt;==hello==&lt;&lt; = <span class="string">&#x27;hello world&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="块代码删除线-1"><a href="#块代码删除线-1" class="headerlink" title="块代码删除线"></a>块代码删除线</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> &gt;&gt;~~hello~~&lt;&lt; = <span class="string">&#x27;hello world&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="块代码加粗-1"><a href="#块代码加粗-1" class="headerlink" title="块代码加粗"></a>块代码加粗</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> &gt;&gt;**hello**&lt;&lt; = <span class="string">&#x27;hello world&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="块代码下横线-1"><a href="#块代码下横线-1" class="headerlink" title="块代码下横线"></a>块代码下横线</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> &gt;&gt;++hello++&lt;&lt; = <span class="string">&#x27;hello world&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="显示行号"><a href="#显示行号" class="headerlink" title="显示行号"></a>显示行号</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 1;</span><br><span class="line">var z &#x3D; &#39;str&#39;;</span><br></pre></td></tr></table></figure>

<h3 id="高亮指定行"><a href="#高亮指定行" class="headerlink" title="高亮指定行"></a>高亮指定行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 1;</span><br><span class="line">var y &#x3D; 2;</span><br><span class="line">var z &#x3D; 3;</span><br><span class="line">var u &#x3D; 4;</span><br><span class="line">var w &#x3D; 5;</span><br><span class="line">var a &#x3D; 6;</span><br></pre></td></tr></table></figure>

<h3 id="显示行号并从指定行数计数"><a href="#显示行号并从指定行数计数" class="headerlink" title="显示行号并从指定行数计数"></a>显示行号并从指定行数计数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 1;</span><br></pre></td></tr></table></figure>

<h3 id="禁用显示行号"><a href="#禁用显示行号" class="headerlink" title="禁用显示行号"></a>禁用显示行号</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 1;</span><br></pre></td></tr></table></figure>

<h3 id="公式-1"><a href="#公式-1" class="headerlink" title="公式"></a>公式</h3><h4 id="行内公式-1"><a href="#行内公式-1" class="headerlink" title="行内公式"></a>行内公式</h4><p>这是行内公式<code>!$ \Gamma(z) = \int_0^\infty t^&#123;z-1&#125;e^&#123;-t&#125;dt\,. $</code></p>
<h4 id="块公式-1"><a href="#块公式-1" class="headerlink" title="块公式"></a>块公式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$\Gamma(z) &#x3D; \int_0^\infty t^&#123;z-1&#125;e^&#123;-t&#125;dt\,.$$</span><br></pre></td></tr></table></figure>

<h4 id="带编号的公式"><a href="#带编号的公式" class="headerlink" title="带编号的公式"></a>带编号的公式</h4><p><code>!$\eqref&#123;ref1&#125;$</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;equation&#125;</span><br><span class="line">\int_0^\infty \frac&#123;x^22&#125;&#123;e^x-1&#125;\,dx &#x3D; \frac&#123;\pi^4&#125;&#123;15&#125;\label&#123;ref1&#125;</span><br><span class="line">\end&#123;equation&#125;</span><br></pre></td></tr></table></figure>

<p><code>!$\eqref&#123;ref1&#125;$</code></p>
<h3 id="统计图"><a href="#统计图" class="headerlink" title="统计图"></a>统计图</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;data&quot;: [ [[0, 0], [1, 1]] ],</span><br><span class="line">&quot;options&quot;: &#123; &quot;yaxis&quot;: &#123; &quot;max&quot;: 1 &#125; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="mermaid流程图，序列图，甘特图"><a href="#mermaid流程图，序列图，甘特图" class="headerlink" title="mermaid流程图，序列图，甘特图"></a>mermaid流程图，序列图，甘特图</h3><h4 id="流程图"><a href="#流程图" class="headerlink" title="流程图"></a>流程图</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">    A--&gt;B;</span><br><span class="line">    A--&gt;C;</span><br><span class="line">    B--&gt;D;</span><br><span class="line">    C--&gt;D;</span><br></pre></td></tr></table></figure>

<h4 id="序列图"><a href="#序列图" class="headerlink" title="序列图"></a>序列图</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">A-&gt;&gt; B: Query</span><br><span class="line">B-&gt;&gt; C: Forward query</span><br><span class="line">Note right of C: Thinking...</span><br><span class="line">C-&gt;&gt; B: Response</span><br><span class="line">B-&gt;&gt; A: Forward response</span><br></pre></td></tr></table></figure>

<h4 id="甘特图"><a href="#甘特图" class="headerlink" title="甘特图"></a>甘特图</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">gantt</span><br><span class="line">        dateFormat  YYYY-MM-DD</span><br><span class="line">        title Adding GANTT diagram functionality to mermaid</span><br><span class="line">        section A section</span><br><span class="line">        Completed task            :done,    des1, 2014-01-06,2014-01-08</span><br><span class="line">        Active task               :active,  des2, 2014-01-09, 3d</span><br><span class="line">        Future task               :         des3, after des2, 5d</span><br><span class="line">        Future task2               :         des4, after des3, 5d</span><br><span class="line">        section Critical tasks</span><br><span class="line">        Completed task in the critical line :crit, done, 2014-01-06,24h</span><br><span class="line">        Implement parser and jison          :crit, done, after des1, 2d</span><br><span class="line">        Create tests for parser             :crit, active, 3d</span><br><span class="line">        Future task in critical line        :crit, 5d</span><br><span class="line">        Create tests for renderer           :2d</span><br><span class="line">        Add to mermaid                      :1d</span><br></pre></td></tr></table></figure>

<h3 id="PPT语法"><a href="#PPT语法" class="headerlink" title="PPT语法"></a>PPT语法</h3><p>使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">----</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>作为一个水平页分割线，注意在<code>----</code>前后都需要空一行</p>
<p>使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">--</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>作为一个垂直页分割线, 注意在<code>--</code>前后都需要空一行</p>
<p>通过如下形式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- .element: class&#x3D;&quot;fragment&quot; data-fragment-index&#x3D;&quot;1&quot; --&gt;</span><br></pre></td></tr></table></figure>
<p>可以实现fragment显示效果</p>
<p>注：　在演示文档模式下，<code>toc</code>和脚注语法将失效.</p>
<h3 id="emoji表情语法"><a href="#emoji表情语法" class="headerlink" title="emoji表情语法"></a>emoji表情<a target="_blank" rel="noopener" href="https://github.com/twitter/twemoji">语法</a></h3><blockquote>
<p>Classic markup: :wink: :crush: :cry: :tear: :laughing: :yum:</p>
<p>Shortcuts (emoticons): :-) :-( 8-) ;)</p>
</blockquote>
<h3 id="自定义class-1"><a href="#自定义class-1" class="headerlink" title="自定义class"></a>自定义class</h3><h4 id="自定义class用例-green"><a href="#自定义class用例-green" class="headerlink" title="自定义class用例{green}"></a>自定义class用例{green}</h4><p>你可以通过查看生成的html代码里，在h4里找到名为<code>green</code>的class名称．</p>
<h3 id="cjk强调-1"><a href="#cjk强调-1" class="headerlink" title="cjk强调"></a>cjk强调</h3><h4 id="这里将显示中文衬线字体做为强调样式"><a href="#这里将显示中文衬线字体做为强调样式" class="headerlink" title="这里将显示中文衬线字体做为强调样式"></a><em>这里将显示中文衬线字体做为强调样式</em></h4><h3 id="cjk注音标示-1"><a href="#cjk注音标示-1" class="headerlink" title="cjk注音标示"></a>cjk注音标示</h3><p>{小}(xiao){书}(shu){匠}(jiang)</p>
<h3 id="居中显示"><a href="#居中显示" class="headerlink" title="居中显示"></a>居中显示</h3><p>-&gt;居中显示的{文字}(wenzi)&lt;-</p>
<p>-&gt;<img src="./jianzhu.jpg" alt="箭竹">&lt;-</p>
<h3 id="文字对齐"><a href="#文字对齐" class="headerlink" title="文字对齐"></a>文字对齐</h3><p>:&gt;居左显示的文字&lt;-</p>
<p>-&gt;居右显示的文字&lt;:</p>
<p>:&gt;两端对齐显示的文字&lt;:</p>
<p>-&gt;居中显示的文字&lt;-</p>
<h3 id="增强型表格-1"><a href="#增强型表格-1" class="headerlink" title="增强型表格"></a>增强型表格</h3><p>|First Header  | Second Header ||<br>|First Header  | Second Header | Third Header|<br>|————- | ————-|————-|<br>表身1Content Cell  | Merge Content Cell||<br>Content Cell  | Content Cell| Content Cell|</p>
<p>表身2Content Cell  | Merge Content Cell||<br>Content Cell  | Content Cell| Content Cell|<br>[表格标题]</p>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><p><a href="storywriter/upgrade_log">小书匠更新手册</a><br><a href="storywriter/grammar">小书匠语法手册</a><br><a href="storywriter/tutorial">小书匠使用手册</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/20/filename/" data-id="ckfbaz8nf00049dcydk2l8lhl" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B0%8F%E4%B9%A6%E5%8C%A0-%E8%AF%AD%E6%B3%95-MARKDOWN-%E5%B8%AE%E5%8A%A9/" rel="tag">小书匠,语法,MARKDOWN,帮助</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-My-New-Post" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/17/My-New-Post/" class="article-date">
  <time datetime="2020-09-17T15:54:32.000Z" itemprop="datePublished">2020-09-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/17/My-New-Post/">My New Post</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/17/My-New-Post/" data-id="ckfbaz8ne00039dcycqkm6of0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/17/hello-world/" class="article-date">
  <time datetime="2020-09-17T15:38:03.698Z" itemprop="datePublished">2020-09-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/17/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/17/hello-world/" data-id="ckfbaz8nh00089dcy0b2nd76f" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CDH%EF%BC%8Cspark/" rel="tag">CDH，spark</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka-ISR-%E5%89%AF%E6%9C%AC%E5%90%8C%E6%AD%A5%E6%9C%BA%E5%88%B6/" rel="tag">kafka,ISR,副本同步机制</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E4%B9%A6%E5%8C%A0-%E8%AF%AD%E6%B3%95-MARKDOWN-%E5%B8%AE%E5%8A%A9/" rel="tag">小书匠,语法,MARKDOWN,帮助</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%B0%E5%BB%BA-%E6%A8%A1%E6%9D%BF-%E5%B0%8F%E4%B9%A6%E5%8C%A0/" rel="tag">新建,模板,小书匠</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5%EF%BC%8C%E5%90%AF%E5%8A%A8%E6%96%B9%E5%BC%8F%EF%BC%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/" rel="tag">线程的概念，启动方式，常用方法</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/CDH%EF%BC%8Cspark/" style="font-size: 10px;">CDH，spark</a> <a href="/tags/kafka-ISR-%E5%89%AF%E6%9C%AC%E5%90%8C%E6%AD%A5%E6%9C%BA%E5%88%B6/" style="font-size: 10px;">kafka,ISR,副本同步机制</a> <a href="/tags/%E5%B0%8F%E4%B9%A6%E5%8C%A0-%E8%AF%AD%E6%B3%95-MARKDOWN-%E5%B8%AE%E5%8A%A9/" style="font-size: 10px;">小书匠,语法,MARKDOWN,帮助</a> <a href="/tags/%E6%96%B0%E5%BB%BA-%E6%A8%A1%E6%9D%BF-%E5%B0%8F%E4%B9%A6%E5%8C%A0/" style="font-size: 10px;">新建,模板,小书匠</a> <a href="/tags/%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5%EF%BC%8C%E5%90%AF%E5%8A%A8%E6%96%B9%E5%BC%8F%EF%BC%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/" style="font-size: 10px;">线程的概念，启动方式，常用方法</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/09/20/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%911/">多线程与高并发01</a>
          </li>
        
          <li>
            <a href="/2020/09/20/CDH%E5%AE%89%E8%A3%85/">CDS安装</a>
          </li>
        
          <li>
            <a href="/2020/09/20/Kafka%20ISR/">Kakfa的ISR</a>
          </li>
        
          <li>
            <a href="/2020/09/20/%E8%AF%AD%E5%BD%95/">语录</a>
          </li>
        
          <li>
            <a href="/2020/09/20/flink/">flink</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>